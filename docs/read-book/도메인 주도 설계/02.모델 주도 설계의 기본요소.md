# 서문
- 수많은 관심사로부터 도메인 설계를 격리하면 모델과 설계의 관계가 훨씬 분명해짐

# 04. 도메인 격리
## LAYERED ARCHITECTURE(계층형 아키텍처)
- 사용자 인터페이스 - 응용 - 도메인 - 인프라스트럭처
- 관심사의 분리(separation of concern) 필요
- 계층화의 핵심 원칙은 한 계층의 모든 요소는 오직 같은 계층에 존재하는 다른 요소나 계층상 아래에 위치한 요소에만 의존
  - 단방향으로만 의존
  - 응집력 있고 오직 아래에 위치한 계층에만 의존하는 각 계층에서 설계를 발전
  - 상위 계층과의 결합을 느슨하게 유지

### 계층 간 관계설정
- 분리의 이점을 잃지 않으면서 각 계층을 서로 연결하는 것이야말로 각종 패턴이 존재하는 이유
- 각 계층은 설걔 의존성을 오직 한 방향으로만 둬서 느슨하게 결합
- 하위 수준의 객체가 상위 수준의 객체와 소통해야 할 경우에는 콜백(call back)이나 OBSERVER(관찰자) 패턴처럼 계층 간에 관계를 맺어주는 아키텍처 패턴을 활용
- 분리의 주된 이점은 애플리케이션 계층이 단순해저서 애플리케이션 본연의 책임에만 집중
  - 메시지를 언제 보내는지는 알아도 어떻게 보내는지 알필요 없어짐
- 응용 계층과 도메인 계층에서는 인프라스트럭처 걔층에서 제공하는 SERVICE 를 요청

### 아키텍처 프레임워크
- 가장 바람직한 아키텍처 프레임워크라면 도메인 개발자가 모델을 표현하는 것에만 집중하게 해서 복잡한 기술적 난제 해결

### 도메인 계층
- MODEL-DRIVEN DESIGN 에서는 도메인 계층의 소프트웨어 구성물이 모델의 개념을 반영
- 도메인 주도 설계의 전제 조건은 도메인 구현의 격리

## SMART UI(지능형 UI) : 안티패턴
- 단점
  - 데이터베이스를 이용하는 방식 말고는 여러 애플리케이션을 통합하기가 수월하지 않음
  - 행위를 재사용하지 않으며 업무 문제에 대한 추상화가 이루어지지 않음
  - 추상화의 부재로 리팩토링 여지가 제한
  - 복잡성에 금방 압도되어 애플리케이션의 성장 경로가 순전히 부가적인 단순 응용으로만 향함
- 단지 다루기 쉬운 언어를 사용한다고 해서 다루기 쉬운 시스템이 만들어지는 것은 아니며, 오히려 비용이 많이 들 수 있음
- 단순한 기능부터 시작해서 계속적인 반복주기를 토대로 개발 진행
- 아키텍처에서 응집력 있는 도메인 설계가 시스템의 다른 부분과 느슨하게 결합될 수 있게 도메인 관련 코드를 격리한다면 도메인 주도 설계를 지원할 수 있을 것
  - 레거시를 리팩토링 할 때 이러한 점을 고려하여 리팩토링을 진행하면 도메인 주도 설계가 추구하는 방향으로 가능할 것 같다
