# 애플리케이션 아키텍처와 객체지향
- 애플리케이션 아키텍처와 객체지향이라는 제목으로 조영호님이 KSUG 에서 발표한 내용
- 조영호님의 저서인 객체지향에 대한 사실과 오해의 내용과 골조는 같음

## 트랜잭션 스크립트 패턴
- 데이터 중심의 설계
- 데이터베이스의 구조에 집중하고, 객체들은 데이터를 저장하는 도구처럼 사용됨
  - Anemic Domain Model
- 무조건 나쁘다고 할수는 없지만, 객체지향적인 설계를 방해한다
  - 유연한 설계를 힘들게 하고, 데이터베이스에 종속적인 코딩을 하게 됨
  - 프로세스가 오직 절차적으로 사용되기 쉬움

## 도메인 모델 패턴
- 객체의 설계를 역할과 책임의 관점에서 한다.
- 특정한 책임을 가진 객체가 다른 객체에게 메시지를 전달하여 프로세스를 처리하도록 함
- 프로세스가 분산되고 객체의 크기가 작아짐
- 위임식, 분산식 제어 스타일
- 도메인 레이어의 재사용을 촉진할 수 있음
  - 이 부분에서 가장 공감이 가는 게, 트랜잭션 스크립트 패턴으로 개발을 하게 되면, 특정 기능을 수행하기 위해 중복되는 코드들이 생기는 데, 이 코드들의 중복을 제거하기 위해 다른 서비스를 가져다 쓰다보면, 순환참조가 발생하기 쉽고, 클래스의 규모가 과도하게 커져 요구사항이 수정될 경우에 어디서부터 어디를 고쳐야할지 난감하게 됨. 또한, 데이터와 화면에 종속적인 로직들이 많다보니 특정 기능을 나타내는 클래스를 만들기 힘들고, 어떠한 기능이 어디에 있는 지 알기 힘든 경우가 종종 생긴다.
- Rich Domain Model 이라고 부름
  - 설계의 관점이지 기술의 관점이 아님
    - 관계형 데이터베이스가 중간에 끼어들면 객체지향적으로만 코드를 짜기 힘든 부분들이 많이 생김
    - 이러한 간극을 극복하기 위해 나온 기술이 ORM 기술들이지만, 모든 것을 해결하지는 못함
  - 훌륭한 객체 지향 설계 지침을 따라야 함

### 최종 결론
- 비 침투적 프레임워크를 사용하라
- 프레임워크 제약 사항을 파악하라
- 프레임워크의 제약 사항에 따라 구현 가능하도록 아키텍처를 수정하라
- 도구에 따라 아키텍처가 변화할 수도 있다
- ORM 기술은 런닝커브가 상당히 크다(공부할 것이 너무나도 많음)
  - 무작정 도입하려 하다보면 무수한 반발을 맞고 이직을 꿈꾸게 된다(나의 얘기..)

### 현실
- 4년전 발표영상에서 설명한 트랜잭션 스크립트 패턴을 아직도 많은 기업들이 사용하고 있음
  - 현재 우리회사도 마찬가지..
  - 데이터 중심의 사고를 지속적으로 유지하기 때문에 벌어지는 상황이라고 생각함
  - 딱히 잘못된 점을 느끼지 못하거나, 학습곡선의 부담으로 잘못되지 않았다고 주장한다고 생각됨


[애플리케이션 아키텍처와 객체지향 발표영상](https://youtu.be/26S4VFUWlJM)